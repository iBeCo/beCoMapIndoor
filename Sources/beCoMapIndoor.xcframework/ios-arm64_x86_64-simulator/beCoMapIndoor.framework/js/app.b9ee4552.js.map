{"version":3,"sources":["webpack:/// [synthetic:base] ","webpack:/// [synthetic:util/owns] ","webpack:/// [synthetic:es6/util/assign] ","webpack:/// [synthetic:util/defines] ","webpack:/// [synthetic:util/defineproperty] ","webpack:/// [synthetic:util/global] ","webpack:/// [synthetic:util/polyfill] ","webpack:/// [synthetic:es6/object/assign] ","webpack:/// [synthetic:es6/conformance] ","webpack:/// [synthetic:es6/util/arrayiterator] ","webpack:/// [synthetic:es6/symbol] ","webpack:/// [synthetic:es6/util/makeiterator] ","webpack:/// [synthetic:es6/weakmap] ","webpack:/// [synthetic:es6/map] ","webpack:///js/app.b9ee4552.js","webpack:///js/webpack/bootstrap","webpack:///./src/scripts/map/projection.js","webpack:///./src/scripts/models/route/model.js","webpack:///./src/scripts/models/marker/images.js","webpack:///./src/scripts/index.js","webpack:///./src/scripts/map/map.js","webpack:///./src/scripts/models/floor/model.js","webpack:///./src/scripts/math/mapmath.js","webpack:///./src/scripts/models/route/math.js","webpack:///./src/scripts/models/route/arrow.js","webpack:///./src/scripts/models/marker/model.js","webpack:///./src/scripts/models/label/model.js","webpack:///./src/scripts/models/whereami/model.js"],"names":["modules","webpackJsonpCallback","data","chunkIds","moreModules","executeModules","moduleId","chunkId","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","__webpack_require__.d","name","getter","o","defineProperty","enumerable","get","r","__webpack_require__.r","Symbol","toStringTag","value","t","__webpack_require__.t","mode","__esModule","ns","create","key","bind","n","__webpack_require__.n","getDefault","getModuleExports","__webpack_require__.o","object","property","p","jsonpArray","window","oldJsonpFunction","slice","171","_interopRequireDefault","obj","default","attributionHtml","getFullYear","Date","imageSize","target","extent","projection","view","_Projection","_View","_extent","Projection","code","units","axisOrientation","View","center","getCenter","zoom","minZoom","maxZoom","172","_defineProperties","props","descriptor","configurable","writable","_createClass","Constructor","protoProps","staticProps","_style","_math","Route","map","instance","TypeError","intermediatePointStyle","src","Style","image","Icon","scale","crossOrigin","anchor","anchorOrigin","previewStyle","stroke","Stroke","color","width","fill","Fill","splitLineString","geometry","minSegmentLength","options","splitPoints","coords","coordIndex","startPoint","nextPoint","angle","calculateAngle","Math","segmentLength","currentSegmentLength","distanceBetweenPoints","calculatePointsDistance","splitPointCoords","containsCoordinate","distanceToSplitPoint","calculateSplitPointCoords","style","feature","resolution","173","Image","getImage","category","type","path","getImagePath","174","_typeof","iterator","constructor","_getRequireWildcardCache","WeakMap","cache","_map","_interopRequireWildcard","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","set","DEBUG","window.initMap","floors","params","BeCoMap","window.BESetCurrentPosition","x","y","window.getMap","window.BESetMapLabels","geojsonObject","window.BESetMarkers","window.BESelectPoint","id","window.BEChangeFloor","window.BEClearSelectedPoint","window.BEDrawRoutePreview","routeArray","window.BEClearRoutePreview","window.BEDrawRoute","nodeList","coveredNodeList","arrowObject","window.BEUpdateRoute","window.BEClearRoute","window.BERotate","coordinates","window.BEResetAngle","window.BEFocusToCurrentPosition","window.BERemoveCurrentPosition","window.BESetLocationMarker","rotateAngle","window.BEChangeLocationMarkerAngle","window.BERemoveLocationMarker","182","183","_underscore","_Map","_control","_layer","_Vector","_LineString","_Point","_easing","_model","_model2","_arrow","_Feature","_model3","_images","_model4","_model5","_projection","graphObject","floorData","Floors","markers","Markers","labels","Label","whereami","CurrentPosition","compassLayer","arrowLayer","vectorWayPointLayer","vectorRouteLayer","vectorLabelLayer","vectorMarkerLayer","route","arrow","Arrow","coveredRoute","routeLayer","locationMarkerstyle","rotateWithView","init","document","markerStyle","VectorLayer","title","displayInLayerSwitcher","zIndex","source","VectorSource","features","_this","getSource","on","ft","declutter","setStyle","Map","layers","getLayers","controls","showButtons","setInitialFloorTile","renderBuffer","updateWhileAnimating","addLayer","addInteraction","getSelectFeature","once","event","tileSource","getTileSource","getMapTileLabels","layerArray","getArray","mapTile","each","layer","control","defaults","attributionOptions","collapsible","getMap","addLabels","addFeatures","getFeature","addMarkers","clear","clearSelectedPoint","initializeWhereAmI","updatePosition","setCurrentPoint","removeCurrentPosition","removeCurrentPoint","showFloorTile","floorID","selectPoint","drawRoutePreview","previewObj","getView","rotate","Feature","LineString","preview","waypoint","Point","fit","size","duration","padding","easing","easeOut","clearRoutePreview","drawRoute","routeCoordinatesArray","removeFeature","console","addFeature","addArrow","arrowCoordinates","drawCoveredRoute","routeType","clearRoute","animate","rotation","visibleRoute","moveToPoint","easeIn","resetAngle","setWhereAmI","setLocationMarker","setRotation","changeDirection","refresh","removeLocationMarker","199","_Image","_ImageStatic","tileSources","tileArray","currentFloorId","toString","getCurrentFloorID","floor","ImageLayer","tileId","Static","attributions","url","imageExtent","reverse","getFloorTile","219","222","BecoMapMath","determinant","matrix","isLeft","x1","y1","x2","y2","x3","y3","getDistanceBetweenTwoPoints","getAngleBetweenTwoPoints","b","a","cosAngle","getMidPointBetweenTwoPoints","getDegreeBetweenTwoPoints","toDegrees","getRadianBetweenTwoPoints","slope","intercept","point","A","B","getInitialRotationAngle","node1","node2","mapHeight","parseFloat","exitAngle","baseAngle","radians","degrees","calculateZoom","223","coord1","coord2","dx","dy","startNode","nextNode","distanceBetweenNodes","alwaysUp","224","coOrdinated","end","start","225","_GeoJSON","_Select","_condition","points","select","selectedPoint","setPoints","text","Text","offsetY","font","styleSelected","clickable","readFeatures","GeoJSON","Select","condition","singleclick","hitTolerance","evt","getFeatures","getGeometry","getCoordinates","226","placement","overflow","227","_Overlay","positionFeature","whereAmI","Overlay","positioning","element","stopEvent","overlayDisabled","CircleStyle","radius","setPosition","228","JSON","parse"],"mappings":"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","file":"js/app.b9ee4552.js","sourcesContent":["","","","","","","","","","","","","","",null," \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([174,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import Projection from 'ol/proj/Projection.js';\nimport '../../styles/attribution/attribution.scss';\nimport View from 'ol/View.js';\nimport {getCenter} from 'ol/extent.js';\n\nvar extent = [0, 0, 2800, 1280];\nvar imageSize = [2800, 1280];\n\nvar projection = new Projection({\n\tcode: 'xkcd-image',\n\tunits: 'pixels',\n\textent: extent,\n\taxisOrientation:'ene'\n});\n\nvar view = new View({\n  \tprojection: projection,\n  \tcenter: getCenter(extent),\n  \textent: extent,\n  \tzoom: 2,\n  \tminZoom: 2,\n  \tmaxZoom: 8\n});\n\nvar target = 'beco-container';\n\nfunction attributionHtml() {\n\t// return '';\n  return '<img src=\"public/images/favicon.ico\" /> Map data '+ new Date().getFullYear() +' beCo';\n  //return '<img src=\"public/images/jio.ico\" /> Map data '+ new Date().getFullYear() +' Reliance Jio';\n}\n\n\nexport { view, projection, extent , attributionHtml, target, imageSize };\n\n// Ref https://hackernoon.com/import-export-default-require-commandjs-javascript-nodejs-es6-vs-cheatsheet-different-tutorial-example-5a321738b50f\n// Ref https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export\n","import BecoMapMath from '../../math/mapmath.js';\nimport LineString from 'ol/geom/LineString';\nimport GeoJSON from 'ol/format/GeoJSON.js';\nimport Point from 'ol/geom/Point.js';\nimport { containsCoordinate } from 'ol/extent';\nimport { Circle as CircleStyle, Icon, Style, Fill, Stroke} from 'ol/style.js';\nimport { calculatePointsDistance, calculateSplitPointCoords, calculateAngle } from './math.js';\n\nexport default class Route {\n\n\tconstructor(map) {\n    \tthis.name = 'Route';\n    \tthis.map = map;\n\t}\n\n\tintermediatePointStyle(name){\n\t\tvar src = 'public/images/a.png';\n\n\t\tif(name == 'a'){\n\t\t\tsrc = 'public/images/a.png';\n\t\t} else if(name == 'b'){\n\t\t\tsrc = 'public/images/b.png';\n\t\t} else if(name == 'c'){\n\t\t\tsrc = 'public/images/c.png';\n\t\t}else if(name == 'd'){\n\t\t\tsrc = 'public/images/d.png';\n\t\t}else if(name == 'e'){\n\t\t\tsrc = 'public/images/e.png';\n\t\t}\n\n\n\t\treturn new Style({\n    \t\timage: new Icon(({\n\t\t\t\tscale: 1,\n\t\t\t\tcrossOrigin: null,\n\t\t\t\tsrc: src,\n\t\t\t\tanchor :[0.5,0.5],\n\t\t\t\tanchorOrigin:'top-left'\n            }))\n        });\n\n\t}\n\n\tpreviewStyle(){\n\t\treturn [\n            new Style({\n              stroke: new Stroke({ color: '#0099EA',width: 6 }),\n              fill: new Fill({ color: '#40B3EF' }),\n            }),\n        ];\n\t}\n\t\n  \tsplitLineString(geometry, minSegmentLength, options) {\n\t\tvar splitPoints = [];\n\t\tvar coords = geometry.getCoordinates();\n\n\t\tvar coordIndex = 0;\n\t\tvar startPoint = coords[coordIndex];\n\t\tvar nextPoint = coords[coordIndex + 1];\n\t\tvar angle = calculateAngle(startPoint, nextPoint, options.alwaysUp);\n\n\t\tvar n = Math.ceil(geometry.getLength()/minSegmentLength);\n\t\tvar segmentLength = geometry.getLength() / n;\n\t\tvar currentSegmentLength = options.midPoints ? segmentLength/2 : segmentLength;\n\t\t \n\t\tfor (var i = 0; i <= n; i++) {\n\n\t\t    var distanceBetweenPoints = calculatePointsDistance(startPoint, nextPoint);\n\t\t    currentSegmentLength += distanceBetweenPoints;\n\n\t\t    if (currentSegmentLength < segmentLength) {\n\t\t      coordIndex++;\n\t\t      if(coordIndex < coords.length - 1) {\n\t\t        startPoint = coords[coordIndex];\n\t\t        nextPoint = coords[coordIndex + 1];\n\t\t        angle = calculateAngle(startPoint, nextPoint, options.alwaysUp);\n\t\t        i--;\n\t\t        continue;\n\t\t      } else {\n\t\t        if (!options.midPoints) {\n\t\t          var splitPointCoords = nextPoint;\n\t\t          if (!options.extent || containsCoordinate(options.extent, splitPointCoords)) {\n\t\t            splitPointCoords.push(angle);\n\t\t            splitPoints.push(splitPointCoords);\n\t\t          }\n\t\t        }\n\t\t        break;\n\t\t      }\n\t\t    } else {\n\t\t      var distanceToSplitPoint = currentSegmentLength - segmentLength;\n\t\t      var splitPointCoords = calculateSplitPointCoords(startPoint, nextPoint, distanceBetweenPoints, distanceToSplitPoint);\n\t\t      startPoint = splitPointCoords.slice();\n\t\t      if (!options.extent || containsCoordinate(options.extent, splitPointCoords)) {\n\t\t        splitPointCoords.push(angle);\n\t\t        splitPoints.push(splitPointCoords);\n\t\t      }\n\t\t      currentSegmentLength = 0;\n\t\t    }\n\t\t}\n\n\t\treturn splitPoints;\n\t}\n\n\tstyle(feature, resolution){\n\t\tvar style =[];\n\t\tif(feature.getProperties() && feature.getProperties().routeType){\n\t\t\tstyle.push(new Style({\n              stroke: new Stroke({ color: '#b2c7f6',width: 6 }),\n              fill: new Fill({ color: '#9ba2b2' }),\n            }));\n\t\t\t\n\t\t}else{\n\t\t\tstyle.push(new Style({\n              stroke: new Stroke({ color: '#0099EA',width: 6 }),\n              fill: new Fill({ color: '#40B3EF' }),\n            }));\n\t\t}\n\n\t\treturn style;\n\t}\n\n\t// style(feature, resolution) {\n\t// \tvar size = 1;\n\t// \tvar style =[];\n //  \t\tvar mapSize = this.map.getSize();\n //  \t\tvar extent = this.map.getView().calculateExtent([mapSize[0] + (size*2), mapSize[1] + (size*2)]);\n //  \t\t// var color = '#4083f7';\n //  \t\t// var stroke = \"#1d52ad\";\n //  \t\tvar src = 'public/images/direction-arrow.svg';\n //  \t\tif(feature.getProperties() && feature.getProperties().routeType){\n //  \t\t\t// color = '#b2c7f6';\n //  \t\t\t// stroke = \"#9ba2b2\";\n //  \t\t\tsrc = 'public/images/direction-arrow-covered.svg';\n //  \t\t}\n //  \t\tvar splitPoints = this.splitLineString(feature.getGeometry(), size * 2 * resolution, {alwaysUp: false, midPoints: false, extent: extent});\n //  \t\tsplitPoints.forEach( function(point,index) {\n\n\t// \t    style.push(new Style({\n\t// \t      geometry: new Point([point[0],point[1]]),\n\t// \t      image: new Icon({\n\t// \t        src: src,\n\t// \t        rotateWithView: true,\n\t// \t        scale: 0.5,\n\t// \t        rotation: point[2]\n\t// \t      })\n\t// \t      \t// image: new Circle({\n //         //    \t\tradius: 6,\n //         //    \t\tfill: new Fill({color: color}),\n //         //    \t\tstroke: new Stroke({\n //         //            \tcolor: stroke,\n //         //            \twidth: 2\n //         //        \t})\n //        \t// \t})\n\t// \t    }));\n\n //  \t\t});\n  \n //  \t\treturn style;\n\t// }\n\n}\n","// export default class Image {\n\n//   /** Common Icon **/\n//   static CommonIcon(){\n//     return 'public/images/small/common.svg';\n//   }\n\n//   static CommonMarker(){\n//     return 'public/images/big/common.svg';\n//   }\n//   /** Common Icon End **/\n\n//   /** Cafe Icon **/\n//   static CafeIcon(){\n//     return 'public/images/small/cafe.svg';\n//   }\n\n//   static CafeMarker(){\n//     return 'public/images/big/cafe.svg';\n//   }\n\n//   /** Cafe Icon End **/\n\n//   /** Workstation Icon **/\n//   static WorkstationIcon(){\n//     return 'public/images/small/workstation.svg';\n//   }\n\n//   static WorkstationMarker(){\n//     return 'public/images/big/workstation.svg';\n//   }\n\n//   /** Workstation Icon End **/\n//   /** Meeting Icon **/\n//   static MeetingIcon(){\n//     return 'public/images/small/meeting.svg';\n//   }\n\n//   static MeetingMarker(){\n//     return 'public/images/big/meeting.svg';\n//   }\n//   /** Meeting Icon End **/\n\n//   /** Lab Icon **/\n//   static LabIcon(){\n//     return 'public/images/small/lab.svg';\n//   }\n\n//   static LabMarker(){\n//     return 'public/images/big/lab.svg';\n//   }\n//   /** Lab Icon End **/\n\n//   /** Entrance Icon **/\n//   static EntranceIcon(){\n//     return 'public/images/small/entrance.svg';\n//   }\n\n//   static EntranceMarker(){\n//     return 'public/images/big/entrance.svg';\n//   }\n//   /** Entrance Icon End**/\n\n//   /** Lift Icon **/\n//   static LiftIcon(){\n//     return 'public/images/small/lift.svg';\n//   }\n\n//   static LiftMarker(){\n//     return 'public/images/big/lift.svg';\n//   }\n\n//   /** Lift Icon End **/\n\n//   /** Exit Icon **/\n//   static ExitIcon(){\n//     return 'public/images/small/exit.svg';\n//   }\n\n//   static ExitMarker(){\n//     return 'public/images/big/exit.svg';\n//   }\n\n//   /** Exit Icon End **/\n\n//   /** Stair Icon **/\n//   static StairIcon(){\n//     return 'public/images/small/stair.svg';\n//   }\n\n//   static StairMarker(){\n//     return 'public/images/big/stair.svg';\n//   }\n\n//   /** Stair Icon End **/\n\n//   /** Room Icon **/\n//   static RoomIcon(){\n//     return 'public/images/small/room.svg';\n//   }\n\n//   static RoomMarker(){\n//     return 'public/images/big/room.svg';\n//   }\n\n//   /** Room Icon End **/\n\n//   /** Reception Icon **/\n//   static ReceptionIcon(){\n//     return 'public/images/small/reception.svg';\n//   }\n\n//   static ReceptionMarker(){\n//     return 'public/images/big/reception.svg';\n//   }\n\n//   /** Reception Icon End **/\n\n  \n\n//   static getImage(category){\n//     var name = Image.CommonMarker();\n//     switch(category) {\n//         case \"Default\":\n//           name = Image.CommonIcon();\n//           break;\n//         case \"Default-big\":\n//           name = Image.CommonMarker();\n//           break;\n//         case \"Cafe\":\n//           name = Image.CafeIcon();\n//           break;\n//         case \"Cafe-big\":\n//           name = Image.CafeMarker();\n//           break;\n//         case \"Workstation\":\n//           name = Image.WorkstationIcon();\n//           break;\n//         case \"Workstation-big\":\n//           name = Image.WorkstationMarker();\n//           break;\n//         case \"Meeting\":\n//           name = Image.MeetingIcon();\n//           break;\n//         case \"Meeting-big\":\n//           name = Image.MeetingMarker();\n//           break;\n//         case \"Lab\":\n//           name = Image.LabIcon();\n//           break;\n//         case \"Lab-big\":\n//           name = Image.LabMarker();\n//           break;\n//         case \"Entrance\":\n//           name = Image.EntranceIcon();\n//           break;\n//         case \"Entrance-big\":\n//           name = Image.EntranceMarker();\n//           break;\n//         case \"Lift\":\n//           name = Image.LiftIcon();\n//           break;\n//         case \"Lift-big\":\n//           name = Image.LiftMarker();\n//           break;\n//         case \"Reception\":\n//           name = Image.ReceptionIcon();\n//           break;\n//         case \"Reception-big\":\n//           name = Image.ReceptionMarker();\n//           break;\n//         case \"Room\":\n//           name = Image.RoomIcon();\n//           break;\n//         case \"Room-big\":\n//           name = Image.RoomMarker();\n//           break;\n//         case \"Stair\":\n//           name = Image.StairIcon();\n//           break;\n//         case \"Stair-big\":\n//           name = Image.StairMarker();\n//           break;\n//         case \"Exit\":\n//           name = Image.ExitIcon();\n//           break;\n//         case \"Exit-big\":\n//           name = Image.ExitMarker();\n//           break;\n\n//     }\n  \t\t\n// \t\treturn name;\n  \t\t\n//   }\n\n// }\n\nexport default class Image {\n\n\n  static getImage(category,type){\n    var path = \"public/images/small/\";\n    if(type && type == 'big'){\n      path = \"public/images/big/\";\n    }\n    return this.getImagePath(category,path);\n  }\n  \n  static getImagePath(category,path){\n    switch(category) {\n        case \"Default\":\n          return path+'common.svg';\n\n        case \"Cafe\":\n          return path+'cafe.svg';\n\n        case \"Workstation\":\n          return path+'workstation.svg';\n\n        case \"Meeting\":\n          return path+'meeting.svg';\n\n        case \"Lab\":\n          return path+'lab.svg';\n\n        case \"Entrance\":\n          return path+'entrance.svg';\n\n        case \"Lift\":\n          return path+'lift.svg';\n\n        case \"Reception\":\n          return path+'reception.svg';\n\n        case \"Room\":\n          return path+'room.svg';\n        \n        case \"Staircase\":\n          return path+'common.svg';\n\n        case \"Exit\":\n          return path+'exit.svg';\n        \n        case \"Fire Exit\":\n            return path+'emergencyexit.svg';\n\n        case \"Restrooms\":\n            return path+'restrooms.svg';\n        \n        case \"ATM\":\n            return path+'atm.svg';\n        \n        case \"Baby Care Room\":\n            return path+'babycareroom.svg';\n        \n        case \"Baggage Center\":\n            return path+'baggagecenter.svg';\n        \n        case \"Drinking Water\":\n            return path+'drinkingwater.svg';\n        \n        case \"Escalator\":\n            return path+'escalator.svg';\n        \n        case \"Lost & Found\":\n            return path+'lostfound.svg';\n        \n        case \"Pram Service\":\n            return path+'pramservice.svg';\n    \n        case \"Restroom Differently Abled\":\n            return path+'Restroomfordifferentlyabled.svg';\n        \n        case \"Customer Desk\":\n            return path+'customerdesk.svg';\n      \n        case \"Wheelchair\":\n            return path+'wheelchair.svg';\n    \n        case \"Community Center\":\n            return path+'communitycenter.svg';\n\n        case \"Auto Stand\":\n            return path+'autostand.svg';\n\n        case \"First Aid\":\n            return path+'firstaid.svg';\n\n        case \"Tailor\":\n            return path+'tailor.svg';\n\n        case \"Key Maker\":\n            return path+'keymaker.svg';\n\n        case \"Emergency Exit\":\n            return path+'emergencyexit.svg';\n\n        case \"Gamezone\":\n            return path+'gameentertainment.svg';\n\n        case \"Prayer Room\":\n            return path+'prayerroom.svg';\n\n        case \"Cosmetics Perfumes\":\n            return path+'cosmeticsperfumes.svg';\n\n        case \"Car Wash\":\n            return path+'carwash.svg';\n\n        case \"Health Fitness\":\n            return path+'healthfitness.svg';\n\n        case \"Department Store\":\n            return path+'hypermarket.svg';\n\n        case \"Mobile Accessories\":\n            return path+'mobileaccessories.svg';\n\n        case \"Anchors\":\n            return path+'anchors.svg';\n\n        case \"Women Fashion\":\n            return path+'apparelswomen.svg';\n\n        case \"Salon\":\n            return path+'salonspa.svg';\n\n        case \"Watches and Gifts\":\n            return path+'watchesgifts.svg';\n\n        case \"Mens Fashion\":\n            return path+'apparelsmen.svg';\n\n        case \"Apparels Kids\":\n            return path+'apparelskids.svg';\n\n        case \"Jewellery\":\n              return path+'jewelleries.svg';\n\n        case \"Footwear\":\n              return path+'footwear.svg';\n\n        case \"Eyewear\":\n              return path+'eyewear.svg';\n\n        case \"Photography\":\n              return path+'photography.svg';\n\n        case \"Baby Cafe\":\n              return path+'babycafe.svg';\n\n        case \"Art Toys\":\n              return path+'arttoys.svg';\n\n        case \"Gifts Books\":\n              return path+'common.svg';\n\n        case \"Multiplex\":\n              return path+'multiplex.svg';\n\n        case \"Electronic Gadgets\":\n              return path+'electronicsgadgets.svg';\n\n        case \"Bags Footwear\":\n              return path+'common.svg';\n\n        case \"Pet Food\":\n              return path+'petfoodaccessories.svg';\n\n        case \"Infotainment\":\n              return path+'infotainment.svg';\n        \n        default:\n            return path+'common.svg';\n    }\n  \t\n  }\n\n}","import '../styles/index.scss';\n\nimport BeCoMap from './map/map.js';\nimport Route from './models/route/model.js';\nimport * as data from './map/data/graph.json';\n\n\n//TODO https://medium.com/4thought-studios/documenting-javascript-projects-f72429da2eea\n//https://gomakethings.com/whats-the-best-way-to-document-javascript/\n\nvar map;\n\n/**\n * This will set the DEBUG config to the window Object. Used only for BeCo Internal Testing\n*/\nwindow.GLOBALS  = {\n\tDEBUG : DEBUG\n};\n\n/**\n * Initialise the map class. This method is called via javascript Bridge by Android/iOS\n * \n * @param {Object} Floor Object\n * @param {params} Map properties\n */\nwindow.initMap = function(floors,params) {\n\tmap = new BeCoMap(data,floors,params);\n\tmap.init();\n\t//TODO load other layers after image loading completed\n\t//map.addMarkers(geojsonObject);\n\t\n\tmap.initializeWhereAmI();\n\t// map.setWhereAmI(800,300);\n\t//map.updatePosition([1500, 800]);\n\n};\n\n/**\n * Set current user position \n * \n * @param  {Number} x X co-ordinate\n * @param  {Number} y Y co-ordinate\n */\nwindow.BESetCurrentPosition = function(x,y) {\n\tmap.updatePosition([x, y]);\n};\n\n\nwindow.getMap = function(){\n\treturn map.getMap();\n};\n\n/**\n * Set Labels for the map\n * \n * @param  {Object} labelObj \n */\nwindow.BESetMapLabels = function(geojsonObject) {\n\tmap.addLabels(geojsonObject);\n};\n\n/**\n * Set markers for the selected floors \n * \n * @param  {Object} geojsonObject geo json object\n */\nwindow.BESetMarkers = function(geojsonObject) {\n\tmap.addMarkers(geojsonObject);\n};\n\n/**\n * Change the marker of a particular Point to indicate that it is selected on the map\n * \n * @param  Point Id\n */\nwindow.BESelectPoint = function(id) {\n\tmap.selectPoint(id);\n};\n\n/**\n * Change the Floor\n * \n * @param  Floor Id\n */\nwindow.BEChangeFloor = function(id) {\n\tmap.clearRoute();\n\tmap.showFloorTile(id);\n};\n/**\n * Clear the selected point marker\n * \n */\nwindow.BEClearSelectedPoint = function() {\n\tmap.clearSelectedPoint();\n};\n\n\n/**\n * Draw the route preview on the map\n * \n * @param {Array.{Array.<RouteObj>}} routeArray\n */\nwindow.BEDrawRoutePreview = function(routeArray){\n\tmap.drawRoutePreview(routeArray);\n};\n\n\n/**\n * Clear the route preview\n * \n */\nwindow.BEClearRoutePreview = function() {\n\tmap.clearRoutePreview();\n};\n\n/**\n * Draw the route on the map\n * \n * @param {Array.<Object>} nodeList\n */\nwindow.BEDrawRoute = function(nodeList, coveredNodeList, arrowObject) {\n\tmap.clearRoute();\n\tif(arrowObject) map.addArrow(arrowObject);\n\tif(nodeList) map.drawRoute(nodeList);\n\tif(coveredNodeList) map.drawCoveredRoute(coveredNodeList);\n};\n\n\n/**\n * Update covered route on the map\n * \n * @param {Array.<Object>} coveredNodeList\n * @param {Array.<Object>} arrowObject\n */\nwindow.BEUpdateRoute = function(coveredNodeList, arrowObject){\n\tif(coveredNodeList) map.drawCoveredRoute(coveredNodeList);\n\tif(arrowObject) map.addArrow(arrowObject);\n};\n\n\n/**\n * Clear the route\n * \n */\nwindow.BEClearRoute = function() {\n\tmap.clearRoute();\n};\n\n/**\n * Rotate the map\n * \n */\nwindow.BERotate = function(angle, coordinates) {\n\tmap.rotate(angle, coordinates);\n};\n\n/**\n * Reset Rotate the map\n * \n */\nwindow.BEResetAngle = function() {\n\tmap.resetAngle();\n};\n\n\n/**\n * Focus to point\n * \n */\nwindow.BEFocusToCurrentPosition = function(x, y) {\n\tmap.moveToPoint(x, y);\n};\n\n/**\n * Remove current point\n * \n */\nwindow.BERemoveCurrentPosition = function() {\n\tmap.removeCurrentPosition();\n};\n\n/**\n * Set LocationMarker\n * \n */\nwindow.BESetLocationMarker = function(x, y, rotateAngle) {\n\tmap.setLocationMarker(x, y,rotateAngle);\n};\n\n/**\n * Set Location Marker Angle\n * \n */\nwindow.BEChangeLocationMarkerAngle = function(rotateAngle) {\n\tmap.changeDirection(rotateAngle);\n};\n\n\n/**\n * Remove Location marker\n * \n */\nwindow.BERemoveLocationMarker = function() {\n\tmap.changeDirection(0);\n\tmap.removeLocationMarker();\n};\n\n\n\n\n\n\n\n\n\n","import _ from 'underscore';\nimport Map from 'ol/Map.js';\nimport {defaults as defaultControls, Attribution} from 'ol/control.js';\nimport {Vector as VectorLayer} from 'ol/layer.js';\nimport VectorSource from 'ol/source/Vector.js';\nimport { Style, Icon, Fill } from 'ol/style.js';\nimport LineString from 'ol/geom/LineString';\nimport Point from 'ol/geom/Point';\nimport {getCenter} from 'ol/extent';\nimport {easeIn, easeOut} from 'ol/easing';\n\nimport Floors from '../models/floor/model.js';\nimport Route from '../models/route/model.js';\nimport Arrow from '../models/route/arrow.js';\nimport Feature from 'ol/Feature';\nimport Markers from '../models/marker/model.js';\nimport Image from '../models/marker/images.js';\nimport Label from '../models/label/model.js';\nimport CurrentPosition from '../models/whereami/model.js';\nimport { view, target, extent }  from './projection.js';\n\nexport default class BeCoMap {\n\n\tconstructor(graphObject, floorData, params){\n        this.floors = new Floors(floorData, params);\n        this.markers = new Markers();\n        this.labels = new Label();\n        this.whereami = new CurrentPosition();\n        this.map = null;\n        this.vectorMarkerLayer = null;\n        this.vectorLabelLayer = null;\n        this.vectorRouteLayer = null;\n        this.vectorWayPointLayer = null;\n        this.arrowLayer = null;\n        this.compassLayer = null;\n        this.route;\n        this.arrow = new Arrow();\n        this.coveredRoute;\n        this.routeLayer;\n        if(params){\n            this.color = params.color;\n        }else {\n            this.color = \"#C1D1A3\";\n        }\n\n        this.locationMarkerstyle = new Style({\n            fill: new Fill({\n              color: 'rgba(0, 0, 255, 0.2)'\n            }),\n            image: new Icon({\n              src: \"public/images/direction.svg\",\n              rotateWithView: true\n            })\n        });\n    }\n\n    // initialize plugin\n    init() {\n        document.getElementById(\"beco-container\").style.backgroundColor = this.color;\n\n        //$(\"#beco-container\").css(\"background-color\",\"red\");\n        var markerStyle = this.markers.style();\n\n\n        this.vectorMarkerLayer = new VectorLayer({\n            title : \"Markers\",\n            displayInLayerSwitcher: false,\n            zIndex : 2,\n            source: new VectorSource({\n                features: []\n            }),\n            style: function(feature, resolution) {\n                markerStyle.setImage(new Icon(({\n                        //color: '#df4a43',\n                        scale: 1,\n                        //crossOrigin: null,\n                        //src: 'public/images/dot.png',\n                        src: Image.getImage(feature.get('icon')),\n                        anchor :[0.5,0.5],\n                        anchorOrigin:'top-left'\n                    }))\n                );\n                markerStyle.getText().setFill(new Fill({ color: feature.get('category_color') }));\n                if(resolution < 2){\n                    markerStyle.getText().setText(feature.get('name'));\n                }else{\n                    markerStyle.getText().setText(\"\");\n                }\n                \n                return markerStyle;\n            }\n        });\n\n        this.vectorWayPointLayer = new VectorLayer({\n            title : \"WayPointLayer\",\n            displayInLayerSwitcher: false,\n            zIndex : 2,\n            source: new VectorSource({\n                features: []\n            }),\n            style: function(feature, resolution) {\n                return _this.route.intermediatePointStyle(feature.get('name'));\n            }\n        });\n\n\n        this.arrowLayer = new VectorLayer({\n            title : \"ArrowLayer\",\n            displayInLayerSwitcher: false,\n            zIndex : 2,\n            source: new VectorSource({\n                features: []\n            }),\n            style: function(feature, resolution) {\n                return _this.arrow.style(feature);\n            }\n        });\n\n\n        this.vectorMarkerLayer.getSource().on( 'addfeature', function (ft) {\n                // ft - feature being added\n               //TODO Feature add\n        });\n\n        this.vectorLabelLayer = new VectorLayer({\n            title : \"Labels\",\n            zIndex : 2,\n            displayInLayerSwitcher: false,\n            declutter: true,\n            source: new VectorSource({\n                features: []\n            }),\n            style: function(feature) {\n                return _this.labels.style(feature);\n            }\n        });\n\n\n\n        this.compassLayer = new VectorLayer({\n            title : \"Compass\",\n            zIndex : 2.5,\n            displayInLayerSwitcher: false,\n            declutter: true,\n            source: new VectorSource({\n                features: []\n            })\n        });\n\n        this.compassLayer.setStyle(this.locationMarkerstyle);\n        \n    \tthis.map = new Map({\n                layers : this.getLayers(),\n\t\t        target: target,\n\t\t        view: view,\n        \t\tcontrols: this.showButtons(),\n      \t});\n\n\n        this.floors.setInitialFloorTile();\n        this.route = new Route(this.map);\n        var _this = this;\n        this.vectorRouteLayer = new VectorLayer({\n            title : \"Route Layer\",\n            displayInLayerSwitcher: false,\n            declutter: true,\n            zIndex : 1,\n            renderBuffer: 2800 ,\n            updateWhileAnimating : true,\n            source: new VectorSource({\n                features: []\n            }),\n            style: function(feature, resolution) {\n                if(feature.getProperties() && feature.getProperties().preview){\n                    return _this.route.previewStyle(feature);\n                    \n                }else{\n                    return _this.route.style(feature, resolution);\n                }\n                \n            }\n        });\n        this.map.addLayer(this.vectorRouteLayer);\n        this.map.addInteraction(this.markers.getSelectFeature(this.vectorMarkerLayer));\n\n        this.map.once('rendercomplete', function(event) {\n            //console.log(event);\n            window.onRenderComplete();\n        });\n        \n    }\n\n\n    getLayers() {\n        var tileSource = Object.assign([],this.floors.getTileSource());\n        tileSource.push(\n                    this.vectorMarkerLayer,\n                    this.vectorLabelLayer,\n                    this.compassLayer,\n                    this.vectorWayPointLayer,\n                    this.arrowLayer\n        );\n\n        return tileSource;\n    }\n\n    getMapTileLabels(){\n        var layerArray = this.map.getLayers().getArray();\n        var mapTile = [];\n        _(layerArray).each(function (layer) {\n            if(layer.getProperties().displayInLayerSwitcher){\n                mapTile.push(layer.getProperties());\n            }\n        });\n        return mapTile;\n    }\n\n    showButtons() {\n    \tvar control = defaultControls({\n\t        attributionOptions:  ({\n\t            collapsible: false\n\t        })\n    \t});\n    \treturn control;\n    }\n\n    getMap() {\n    \treturn this.map;\n    }\n\n\n    addLabels(geojsonObject){\n        this.vectorLabelLayer.getSource().addFeatures(this.labels.getFeature(geojsonObject));\n    }\n\n    addMarkers(geojsonObject){\n        this.vectorMarkerLayer.getSource().clear();\n        this.markers.clearSelectedPoint();\n        this.vectorMarkerLayer.getSource().addFeatures(this.markers.getFeature(geojsonObject));\n    }\n\n    initializeWhereAmI(coordinates){\n        this.whereami.init(this.map,coordinates);\n    }\n\n    updatePosition(coordinates){\n        this.whereami.setCurrentPoint(coordinates,this.map);\n    }\n\n    removeCurrentPosition(){\n        this.whereami.removeCurrentPoint(this.map);\n    }\n\n    showFloorTile(floorID){\n        this.floors.showFloorTile(floorID);\n    }\n\n    selectPoint(id){\n        if(id) this.markers.selectPoint(id,this.map);\n    }\n\n    clearSelectedPoint(){\n        this.markers.clearSelectedPoint();\n    }\n    \n    drawRoutePreview(previewObj){\n        var _this = this;\n        var geometry;\n        this.vectorRouteLayer.getSource().clear();\n        this.vectorWayPointLayer.getSource().clear();\n        this.arrowLayer.getSource().clear();\n        this.map.getView().rotate(0);\n        _(previewObj.route).each(function (route) {\n            var feature = new Feature({\n                geometry: new LineString(route),\n                preview : true\n\n            });\n\n            if(geometry == null){\n                geometry = feature.getGeometry();\n            }\n            _this.vectorRouteLayer.getSource().addFeature(feature);\n        });\n\n        _(previewObj.waypoint).each(function (waypoint) {\n\n            var waypoint = new Feature({\n                geometry:  new Point(waypoint.point),\n                name : waypoint.name\n            });\n\n            _this.vectorWayPointLayer.getSource().addFeature(waypoint);\n        });\n\n        this.map.getView().fit(geometry, {\n            size:_this.map.getSize(),\n            duration: 1000,\n            padding :[40,40,60,40],\n            easing: easeOut\n        });\n\n\n    }\n\n    clearRoutePreview(){\n        this.vectorRouteLayer.getSource().clear();\n        this.vectorWayPointLayer.getSource().clear();\n    }\n\n    \n    drawRoute(routeCoordinatesArray){\n        var _this = this;\n        if(this.routeLayer){\n            this.vectorRouteLayer.getSource().removeFeature(this.routeLayer);\n        }\n\n        this.routeLayer = new Feature({\n            geometry: new LineString(routeCoordinatesArray)\n        });\n        console.log(\"this.drawRoute\", this.route);\n        this.vectorRouteLayer.getSource().addFeature(this.routeLayer);\n\n        // this.map.getView().fit(this.routeLayer.getGeometry(), {\n        //     size:_this.map.getSize(),\n        //     duration: 1000,\n        //     padding :[40,40,40,40],\n        //     easing: easeOut\n        // });\n        //this.map.getView().fit(this.routeLayer.getGeometry(), this.map.getSize());\n    }\n\n    addArrow(arrowCoordinates){\n\n        if(this.arrowLayer) {\n            this.arrowLayer.getSource().clear();\n        }\n\n        var arrow = new Feature({\n            geometry: new LineString(arrowCoordinates)\n        });\n\n        this.arrowLayer.getSource().addFeature(arrow); \n    }\n\n    drawCoveredRoute(routeCoordinatesArray){\n        if(this.coveredRoute){\n            this.vectorRouteLayer.getSource().removeFeature(this.coveredRoute);\n        }\n        \n        this.coveredRoute = new Feature({\n            geometry: new LineString(routeCoordinatesArray),\n            routeType : \"coveredroute\" \n        });\n        console.log(\"this.coveredRoute\", this.coveredRoute);\n        this.vectorRouteLayer.getSource().addFeature(this.coveredRoute);\n    }\n\n    clearRoute(){\n        if(this.vectorRouteLayer) {\n            this.vectorRouteLayer.getSource().clear();\n            this.routeLayer = null;\n            this.coveredRoute = null;\n        }\n        if(this.vectorWayPointLayer) {\n            this.vectorWayPointLayer.getSource().clear();\n        }\n\n        if(this.arrowLayer) {\n            this.arrowLayer.getSource().clear();\n        }\n    }\n\n    rotate(angle, coordinates){\n        var _this = this;\n        this.map.getView().animate({\n            //center: [x, y],\n            duration: 2000,\n            rotation:angle,\n            easing:easeOut\n        });\n        //this.map.getView().fit(point.getGeometry(), this.map.getSize());\n        // this.map.getView().rotate(angle);\n\n        var visibleRoute = new Feature({\n            geometry: new LineString(coordinates)\n        });\n        \n        this.map.getView().fit(visibleRoute.getGeometry().getExtent(), {\n            size:_this.map.getSize(),\n            duration: 1000,\n            padding :[50,50,50,50],\n            easing: easeOut\n        });\n        \n    }\n\n    moveToPoint(x, y){\n        this.map.getView().animate({\n            center: [x, y],\n            duration: 2000,\n            easing:easeIn\n        });\n    }\n\n    resetAngle(){\n        this.map.getView().animate({\n            center: getCenter(extent),\n            duration: 2000,\n            rotation:0,\n            easing:easeIn\n        });\n    }\n\n    setWhereAmI(x,y){\n        var feature = new Feature(\n            new Point([x,y])\n        );\n        this.vectorMarkerLayer.getSource().addFeature(feature);\n    }\n\n    setLocationMarker(x,y, rotateAngle){\n        this.compassLayer.getSource().clear();\n        var feature = new Feature(\n                      new Point([x,y])\n                  );\n        this.compassLayer.getSource().addFeature(feature);\n        if(rotateAngle && rotateAngle >= 0){   \n            this.locationMarkerstyle.getImage().setRotation(Math.PI / 180 * rotateAngle);\n            //this.compassLayer.getSource().refresh();\n        }\n    }\n\n    changeDirection(rotateAngle){\n        if(rotateAngle >= 0){\n            this.locationMarkerstyle.getImage().setRotation(Math.PI / 180 * rotateAngle);\n            this.compassLayer.getSource().refresh();\n        }\n    }\n\n    removeCurrentPosition(){\n        this.whereami.removeCurrentPoint(this.map);\n    }\n\n    removeLocationMarker(){\n        if(this.compassLayer) this.compassLayer.getSource().clear();\n    }\n\n\n}\n\n","import _ from 'underscore';\nimport ImageLayer from 'ol/layer/Image.js';\nimport Static from 'ol/source/ImageStatic.js';\nimport { view, projection, extent, attributionHtml, target, imageSize }  from '../../map/projection.js';\n\nexport default class Floors {\n\n\t  constructor(floors, params) {\n    \t this.name = 'Floors';\n    \t this.floors = floors;\n    \t this.tileSources = new Map();\n       this.tileArray = [];\n       if(params){\n          this.currentFloorId = params.default_floor_id;\n       }else {\n          this.currentFloorId = this.floors[0].id;\n       }\n    \t this.init();\n  \t}\n\n  \ttoString() {\n        return this.name;\n    }\n\n    getCurrentFloorID(){\n        return this.currentFloorId ;\n    }\n\n  \tinit() {\n    \t\tvar _this = this;\n    \t\tif (_this.floors) {\n    \t\t\t_(_this.floors).each(function (floor) {\n  \t            var tileSource = new ImageLayer({\n                        title: floor.label,\n                        displayInLayerSwitcher: true,\n                        tileId : floor.id,\n  \t                    source: new Static({\n  \t                        attributions: attributionHtml(),\n  \t                        url: floor.image,\n  \t                        imageSize: imageSize,\n  \t                        projection: projection,\n  \t                        imageExtent: extent,\n  \t                    })\n  \t                });\n                _this.tileArray.push(tileSource);\n  \t            _this.tileSources.set(floor.id, tileSource);\n          \t});\n    \t\t}\n  \t}\n\n\n    /**\n     * Get the tilesource array of the current Map.\n     * @return {Array<import ImageLayer from 'ol/layer/Image.js'>} List of ImageLayers of the map.\n     */\n    getTileSource(){\n        return this.tileArray.reverse();\n    }\n\n  \tgetFloorTile(floorID){\n  \t\t  return this.tileSources.get(floorID);\n  \t}\n\n    showFloorTile(floorID){\n      if(this.currentFloorId == floorID){\n        return;\n      }\n      _(this.tileArray).each(function (layer) {\n            if(layer.getProperties().tileId == floorID){\n                layer.setVisible(true);\n            }else{\n                layer.setVisible(false);\n            }\n      });\n      this.currentFloorId = floorID;\n\n    }\n\n    setInitialFloorTile(){\n      if(!this.currentFloorId){\n        return;\n      }\n      let currentFloorId = this.currentFloorId;\n      _(this.tileArray).each(function (layer) {\n            \n            if(layer.getProperties().tileId == currentFloorId){\n                layer.setVisible(true);\n            }else{\n                layer.setVisible(false);\n            }\n      });\n\n    }\n\n}","\n\nexport default class BecoMapMath {\n\n    static determinant(matrix) {\n    \treturn (matrix[0][0]*matrix[1][1])-(matrix[0][1]*matrix[1][0]);\n    }\n\n    static isLeft(x1, y1, x2, y2, x3, y3) {\n      var matrix = [\n          [(x1 - x3), (x2 - x3)],\n          [(y1 - y3), (y2 - y3)]\n      ];\n      return this.determinant(matrix) < 0;\n    }\n\n    static getDistanceBetweenTwoPoints(x1, y1, x2, y2) {\n        return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    }\n\n    static getAngleBetweenTwoPoints(x1, y1, x2, y2, x3, y3) {\n\n      var b = this.getDistanceBetweenTwoPoints(x1, y1, x2, y2);\n      var a = this.getDistanceBetweenTwoPoints(x2, y2, x3, y3);\n      var c = this.getDistanceBetweenTwoPoints(x1, y1, x3, y3);\n      var cosAngle = ((Math.pow(b, 2) + Math.pow(a, 2)) - Math.pow(c, 2)) / (2 * a * b);\n      cosAngle = Math.acos(cosAngle);\n      //var angle = Math.toDegrees(Math.acos(cosAngle));\n      var angle = cosAngle * (180/Math.PI);\n      if (angle >= 88 && angle <= 92) {\n          angle = 90;\n      } else if (angle >= 170 && angle <= 191) {\n          angle = 180;\n      } else if (angle >= 268 && angle <= 272) {\n          angle = 270;\n      } else if (angle >= 358 && angle <= 2) {\n          angle = 360;\n      }\n      return angle;\n    }\n\n    static getMidPointBetweenTwoPoints(x1, y1, x2, y2) {\n\n      // Ref: http://www.movable-type.co.uk/scripts/latlong.html\n      return  [x1 + (x2 - x1) * 0.5, y1 + (y2 - y1) * 0.5];\n    }\n\n    static getDegreeBetweenTwoPoints(x1, y1, x2, y2) {\n        var radians = Math.atan2(y1 - y2, x1 - x2);\n        return this.toDegrees(radians);\n    }\n\n    static getRadianBetweenTwoPoints(x1, y1, x2, y2) {\n        return Math.atan2(y1 - y2, x1 - x2);\n    }\n\n    static toDegrees(angle) {\n      return angle * (180 / Math.PI);\n    }\n\n    static slope(a, b) {\n        if (a[0] == b[0]) {\n            return null;\n        }\n        return (b[1] - a[1]) / (b[0] - a[0]);\n    }\n\n    static intercept(point, slope) {\n        if (slope === null) {\n            // vertical line\n            return point[0];\n        }\n\n        return point[1] - slope * point[0];\n    }\n\n    static coordinates(A,B) {\n        var m = this.slope(A, B);\n        var b = this.intercept(A, m);\n        console.log(m,b);\n        var coordinates = [];\n        for (var x = A[0]; x <= B[0]; x++) {\n            var y = m * x + b;\n            coordinates.push([x, y]);\n        }\n        return coordinates;\n    }\n\n    static getInitialRotationAngle(node1, node2, mapHeight) {\n\n        var y1 = parseFloat(mapHeight);\n        var y2 = mapHeight - 10;\n        var exitAngle = this.getRadianBetweenTwoPoints(node1.x,(mapHeight-node1.y), node2.x,(mapHeight - node2.y));\n        var baseAngle = this.getRadianBetweenTwoPoints(0, y1, 0, y2);\n\n        var angleDifference = exitAngle - baseAngle;\n\n        return angleDifference + Math.PI; // Since openlayer start with third Qudarant\n    }\n\n    static radians(degrees) {\n        return degrees * Math.PI / 180;\n    }\n\n    // Converts from radians to degrees.\n    static degrees(radians) {\n        return radians * 180 / Math.PI;\n    }\n\n    static calculateZoom(node1,node2) {\n\n    }\n\n}\n\n","\n\nfunction calculatePointsDistance(coord1, coord2) {\n\tvar dx = coord1[0] - coord2[0];\n\tvar dy = coord1[1] - coord2[1];\n\treturn Math.sqrt(dx * dx + dy * dy);\n}\n\nfunction calculateSplitPointCoords(startNode, nextNode, distanceBetweenNodes, distanceToSplitPoint) {\n\tvar d = distanceToSplitPoint / distanceBetweenNodes;\n\tvar x = nextNode[0] + (startNode[0] - nextNode[0]) * d;\n\tvar y = nextNode[1] + (startNode[1] - nextNode[1]) * d;\n\treturn [x, y];\n}\n\nfunction calculateAngle(startNode, nextNode, alwaysUp) {\n\tvar x = (startNode[0] - nextNode[0]);\n\tvar y = (startNode[1] - nextNode[1]);\n\treturn alwaysUp ? Math.atan(x/y) : Math.atan2(x,y);\n}\n\nexport { calculatePointsDistance, calculateSplitPointCoords, calculateAngle };","\nimport { Style, Fill, Stroke, Icon} from 'ol/style.js';\nimport Point from 'ol/geom/Point';\n\nexport default class Arrow {\n\n\tconstructor(){\n\t\tthis.name = 'Arrow';\n\t}\n\n\tstyle(feature){\n\t\tvar coOrdinated = feature.getGeometry().getCoordinates();\n\t\tvar end = coOrdinated[coOrdinated.length-1];\n\t\tvar start = coOrdinated[coOrdinated.length-2];\n\t\tvar dx, dy;\n\t\tdx = end[0] - start[0];\n        dy = end[1] - start[1];\n        var rotation = Math.atan2(dy, dx);\n\t\treturn [\n\t\t  new Style({\n\t\t    stroke: new Stroke({\n\t\t      color: '#35393A',\n\t\t      width: 8\n\t\t    })\n\t\t  }),\n\t\t  new Style({\n\t\t    stroke: new Stroke({\n\t\t      color: '#FFFFFF',\n\t\t      width: 6\n\t\t    })\n\t\t  }),\n\t\t  new Style({\n              geometry: new Point(end),\n              image: new Icon({\n                src: 'public/images/arrow2.png',\n                anchor: [0.5, 0.55],\n                rotateWithView: true,\n                rotation: -rotation\n              })\n            })\n\t\t];\n\t}\n}","import _ from 'underscore';\nimport Feature from 'ol/Feature.js';\nimport Point from 'ol/geom/Point.js';\nimport {Icon, Style, Text, Fill, Stroke} from 'ol/style.js';\nimport GeoJSON from 'ol/format/GeoJSON.js';\nimport Select from 'ol/interaction/Select.js';\nimport { singleclick } from 'ol/events/condition.js';\n\nimport Image from './images.js';\n\nexport default class Markers {\n\n\tconstructor() {\n    \t this.name = 'Markers';\n    \t this.points;\n    \t this.select;\n    \t this.markers = new Map();\n         this.selectedPoint;\n  \t}\n\n  \ttoString() {\n        return this.name;\n    }\n\n    setPoints(points){\n    \tthis.points= points;\n    }\n\n\n    style() {\n\n    \treturn new Style({\n            text: new Text({\n\t\t\t\toffsetY: 20,\n\t\t\t\tfont: 'bold 10px Open Sans,sans-serif',\n\t\t\t\tfill: new Fill({ color: '#F90F00' }),\n\t\t\t\tstroke: new Stroke({ color: '#eee', width: 0.5 })\n        \t})\n        });\n    }\n\n    styleSelected(category, text, color, clickable) {\n\n        if (clickable) {\n            return new Style({\n                image: new Icon(({\n                    //color: '#df4a43',\n                    scale: 1,\n                    crossOrigin: null,\n                    //src: 'public/images/dot.png',\n                    src: Image.getImage(category,'big'),\n                    anchor :[0.5,0.5],\n                    anchorOrigin:'top-left'\n                })),\n                text: new Text({\n                    offsetY: 30,\n                    text: text,\n                    font: 'bold 10px Open Sans,sans-serif',\n                    fill: new Fill({ color: color }),\n                    stroke: new Stroke({ color: '#eee', width: 0.5 })\n                })\n            });\n        } else {\n            return new Style({\n                text: new Text({\n                    offsetY: 20,\n                    font: 'bold 10px Open Sans,sans-serif',\n                    fill: new Fill({ color: '#F90F00' }),\n                    stroke: new Stroke({ color: '#eee', width: 0.5 })\n                })\n            });\n        }\n    \t\n    }\n\n\n    getFeature(geojsonObject){\n        this.markers.clear();\n        this.selectedPoint = null;\n        var _this = this;\n        var features = (new GeoJSON()).readFeatures(geojsonObject);\n        _(features).each(function (feature) {\n            _this.markers.set(feature.getId(),feature);\n        });\n    \treturn features;\n    }\n\n    getSelectFeature(layer){\n    \tvar _this = this;\n    \tif(!this.select){\n    \t\tthis.select = new Select({\n\t            condition: singleclick,\n\t            layers:[layer],\n\t            hitTolerance : 10,\n\t            style: function(feature) {\n\t                return _this.styleSelected(feature.get('icon'),feature.get('name'),feature.get('category_color_selected'),feature.get('clickable'));\n\t            }\n        \t});\n\n            this.select.on('select', function(evt){\n                if(evt.selected.length > 0 && evt.selected[0].get('clickable')){\n                    window.onPointSelected(evt.selected[0].getId());\n                    this.selectedPoint = evt.selected[0].getId();\n                }else{\n                    clearSelectedPoint();\n                }\n            });\n    \t}\n    \t\n        return this.select;\n    }\n\n    selectPoint(id, map){\n        if(this.markers && this.markers.has(id)){\n            var features = this.select.getFeatures();\n            features.clear();\n            features.push(this.markers.get(id));\n            this.selectedPoint = id;\n            map.getView().animate({\n                    zoom: map.getView().getZoomForResolution(map.getView().getResolution())\n                }, {\n                    center: this.markers.get(id).getGeometry().getCoordinates()\n                }\n            );\n        }\n    }\n\n    clearSelectedPoint(){\n        if(this.markers){\n            var features = this.select.getFeatures();\n            features.clear();\n            this.selectedPoint = null;\n        }\n    }\n\n}\n","\nimport {Fill, Style, Text, Stroke} from 'ol/style.js';\nimport GeoJSON from 'ol/format/GeoJSON.js';\n\nexport default class Label {\n\n\tconstructor() {\n    \t this.name = 'Label';\n\t}\n\n\ttoString() {\n        return this.name;\n    }\n\n    getFeature(geojsonObject){\n    \treturn (new GeoJSON()).readFeatures(geojsonObject);\n    }\n\n    style(feature) {\n    \tvar font = 'normal '+feature.get('size')+'px \"Open Sans\", \"Arial\", \"sans-serif\"';\n\t\treturn new Style({\n\t        text: new Text({\n\t          font: font,\n\t          placement: 'line',\n\t          fill: new Fill({\n\t            color: feature.get('textColor')\n\t          }),\n\t          text: feature.get('name'),\n\t          stroke: new Stroke({color: feature.get('borderColor'), width: 3}),\n\t          overflow: true,\n\t        })\n\t     });\n    }\n\n}","import {Circle as CircleStyle, Fill, Stroke, Style} from 'ol/style.js';\nimport Feature from 'ol/Feature.js';\nimport Point from 'ol/geom/Point.js';\nimport Overlay from 'ol/Overlay.js';\n\nexport default class CurrentPosition {\n\n\tconstructor() {\n    \t this.name = 'CurrentPosition';\n    \t this.positionFeature;\n         this.whereAmI = new Overlay({\n            positioning: 'center-center',\n            element: document.getElementById('marker'),\n            stopEvent: false\n         });\n         this.overlayDisabled;\n\t}\n\n\ttoString() {\n        return this.name;\n    }\n\n\n    style() {\n        return new Style({\n\t        image: new CircleStyle({\n\t          \tradius: 8,\n\t          \tfill: new Fill({\n\t            \tcolor: '#4285F4'\n\t         \t}),\n\t\t        stroke: new Stroke({\n\t\t            color: '#DCE8FD',\n\t\t            width: 8\n\t\t        })\n    \t\t})\n      \t});\n    }\n\n    init(map,coordinates){\n    \tmap.addOverlay(this.whereAmI);\n        if(coordinates){\n            this.whereAmI.setPosition(coordinates);\n        }\n    }\n\n    setCurrentPoint(coordinates,map){\n        if(this.overlayDisabled && this.whereAmI){\n            map.addOverlay(this.whereAmI);\n            this.overlayDisabled = false;\n        }\n    \tthis.whereAmI.setPosition(coordinates ?\n          coordinates : null);\n    }\n\n    removeCurrentPoint(map){\n        if(this.whereAmI != null){\n            map.removeOverlay(this.whereAmI);\n            this.overlayDisabled = true;\n        }\n    }\n}\n\n"],"sourceRoot":""}